@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix ssn: <http://www.w3.org/ns/ssn/> .
@prefix qudt: <http://qudt.org/schema/qudt/> .
@prefix unit: <http://qudt.org/vocab/unit/> .
@prefix dbc: <http://example.org/dbc#> . 

<http://example.org/dbc-ontology> a owl:Ontology ;

    owl:imports <http://www.w3.org/ns/sosa/> ,
                <http://www.w3.org/ns/ssn/> ,
                <http://qudt.org/3.0.0/schema/qudt> .

#################################################################

# Ontology Classes

#################################################################

dbc:SignalEncoding a owl:Class ;
    rdfs:label "Signal Encoding" ;
	rdfs:comment "Describes the metadata required to interpret and decode a CAN signal, including bit position, length, signedness, byte order, and scaling parameters." .

dbc:Node a owl:Class ;
    rdfs:label "Node" ;
	rdfs:comment "Represents an ECU or logical node on the CAN network that transmits or receives messages or signals." .

dbc:Message a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Message" ;
	owl:disjointWith dbc:Signal ;
	rdfs:comment "Represents a CAN message definition, including its structure and the set of signals it contains." .
	
dbc:Signal a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Signal" ;
	rdfs:comment "Represents a decoded physical or logical quantity encoded inside a CAN message. Each signal corresponds to an observable property that can be measured and interpreted." .
	
dbc:MessageLog a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Message Log" ;
	owl:disjointWith dbc:SignalLog ;
	rdfs:comment "Represents an observation of a CAN message in raw, encoded form as captured from the bus, including timestamp, identifier, and payload bytes." .

dbc:SignalLog a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Signal Log" ;
	rdfs:comment "Represents a decoded observation of a specific CAN signal, derived from a raw MessageLog entry and expressing a physical value with units." .

sosa:Observation a owl:Class ;
    rdfs:label "Observation" .

sosa:ObservableProperty a owl:Class ;
    rdfs:subClassOf ssn:Property ;
    rdfs:label "ObservableProperty" .
	
sosa:Sensor a owl:Class ;
    rdfs:subClassOf ssn:System ;
    rdfs:label "Sensor" .
	
sosa:Platform a owl:Class ;
    rdfs:label "Platform" .	

qudt:EndianType a owl:Class ;
    rdfs:label "Endian Type" .

#################################################################

# Object Properties

#################################################################

dbc:encodedVia a owl:ObjectProperty ;
    rdfs:domain dbc:Message ;
    rdfs:range dbc:SignalEncoding ;
    rdfs:label "encoded via" ;
    rdfs:comment "Links a CAN message definition to the SignalEncoding that specifies how its payload bytes are structured and interpreted." .

dbc:decodedVia a owl:ObjectProperty ;
    rdfs:domain dbc:Signal ;
    rdfs:range dbc:SignalEncoding ;
    rdfs:label "decoded via" ;
    rdfs:comment "Links a CAN signal definition to the SignalEncoding that defines how its bit-level representation is decoded into a physical or logical value." .

dbc:hasTransmitter a owl:ObjectProperty ;
    rdfs:domain dbc:Message ;
    rdfs:range dbc:Node ;
    rdfs:label "has transmitter" ;
    rdfs:comment "Links a CAN message definition to the node (ECU) responsible for transmitting it on the bus." .

dbc:hasReceiver a owl:ObjectProperty ;
    rdfs:domain dbc:Signal ;
    rdfs:range dbc:Node ;
    rdfs:label "has receiver" ;
    rdfs:comment "Links a CAN signal definition to the node (ECU) that consumes or interprets this signal." .

dbc:isPartOf a owl:ObjectProperty ;
    rdfs:domain dbc:Signal ;
    rdfs:range dbc:Message ;
    rdfs:label "is part of" ;
    rdfs:comment "Indicates that a signal is a structural component of a particular CAN message definition." .

dbc:hasSignal a owl:ObjectProperty ;
    rdfs:domain dbc:Message ;
    rdfs:range dbc:Signal ;
    rdfs:label "has signal" ;
    rdfs:comment "Indicates that a CAN message contains a particular signal within its payload structure." .

dbc:observedOn a owl:ObjectProperty ;
    rdfs:domain dbc:MessageLog ;
    rdfs:range sosa:Platform ;
    rdfs:label "observed on" ;
    rdfs:comment "Links a MessageLog observation to the CAN bus (modeled as a sosa:Platform) on which the message was observed." .

dbc:decodedFrom a owl:ObjectProperty ;
    rdfs:domain dbc:SignalLog ;
    rdfs:range dbc:MessageLog ;
    rdfs:label "decoded from" ;
    rdfs:comment "Indicates that a SignalLog is derived by decoding a specific MessageLog observation." .

sosa:isHostedBy a owl:ObjectProperty ;
    rdfs:domain sosa:Sensor ;
    rdfs:range sosa:Platform ;
    rdfs:label "is hosted by" .

sosa:hosts a owl:ObjectProperty ;
    rdfs:domain sosa:Platform ;
    rdfs:range sosa:Sensor ;
    rdfs:label "hosts" .

sosa:observes a owl:ObjectProperty ;
    rdfs:domain sosa:Sensor ;
    rdfs:range sosa:ObservableProperty ;
    rdfs:label "observes" .

sosa:isObservedBy a owl:ObjectProperty ;
    rdfs:domain sosa:ObservableProperty ;
    rdfs:range sosa:Sensor ;
    rdfs:label "is observed by" .

sosa:observedProperty a owl:ObjectProperty ;
    rdfs:domain sosa:Observation ;
    rdfs:range sosa:ObservableProperty ;
    rdfs:label "observed property" .

sosa:madeBySensor a owl:ObjectProperty ;
    rdfs:domain sosa:Observation ;
    rdfs:range sosa:Sensor ;
    rdfs:label "made by sensor" .

sosa:madeObservation a owl:ObjectProperty ;
    rdfs:domain sosa:Sensor ;
    rdfs:range sosa:Observation ;
    rdfs:label "made observation" .

qudt:byteOrder a owl:ObjectProperty ;
    rdfs:domain dbc:SignalEncoding ;
    rdfs:range qudt:EndianType ;
    rdfs:label "byte order" .

qudt:hasUnit a owl:ObjectProperty ;
    rdfs:domain dbc:Signal ;
    rdfs:label "has unit" .

#################################################################

# Data Properties

#################################################################

dbc:bitStart a owl:DatatypeProperty ;
    rdfs:domain dbc:SignalEncoding ;
    rdfs:range xsd:integer ;            
    rdfs:label "bit start" ;
    rdfs:comment "Specifies the starting bit position of the signal within the raw CAN message payload." .

dbc:bitLength a owl:DatatypeProperty ;  
    rdfs:domain dbc:SignalEncoding ;
    rdfs:range xsd:integer ;            
    rdfs:label "bit length" ;
    rdfs:comment "Specifies the size of the signal in bits within the CAN message payload." .

dbc:signed a owl:DatatypeProperty ;
    rdfs:domain dbc:SignalEncoding ;
    rdfs:range xsd:boolean ;
    rdfs:label "signed" ;
    rdfs:comment "Indicates whether the encoded signal uses signed numerical representation (true) or unsigned (false)." .
	
dbc:hasDecID a owl:DatatypeProperty ;
    rdfs:domain dbc:Message ;
    rdfs:range xsd:integer ;           
    rdfs:label "decimal ID" ;
    rdfs:comment "Assigns the CAN identifier of the message in decimal notation." .

dbc:dataLength a owl:DatatypeProperty ; 
    rdfs:domain dbc:Message ;
    rdfs:range xsd:integer ;             
    rdfs:label "data length" ;
    rdfs:comment "Specifies the payload length of the CAN message in bytes." .

dbc:hasHexID a owl:DatatypeProperty ;
    rdfs:domain dbc:MessageLog ;
    rdfs:range xsd:string ;
    rdfs:label "hexadecimal ID" ;
    rdfs:comment "Stores the CAN identifier of a logged message in hexadecimal notation, as extracted from the CAN frame." .

qudt:byteOrder a owl:DatatypeProperty ;
    rdfs:label "byte order" .

qudt:conversionMultiplier a owl:DatatypeProperty ;
    rdfs:label "conversion multiplier" .

qudt:conversionOffset a owl:DatatypeProperty ;
    rdfs:label "conversion offset" .
	
qudt:minInclusive a owl:DatatypeProperty ;
    rdfs:label "min inclusive" .	
	
qudt:maxInclusive a owl:DatatypeProperty ;
    rdfs:label "max inclusive" .

sosa:hasSimpleResult a owl:DatatypeProperty ;
    rdfs:domain sosa:Observation ;
    rdfs:label "has simple result" .

sosa:resultTime a owl:DatatypeProperty ;
    rdfs:domain sosa:Observation ;
    rdfs:range xsd:dateTime ;
    rdfs:label "result time" .

